# Gradle CVE Dependency Check

This is a plugin to be able to run the OWASP CVE Dependency Check in a gradle project. 

## Status
This project is current functional MVP. You could use the plugin in your project but it is completely un-configurable and performance
is probably pretty poor. Right now, any detected vulnerability of any level will result in a build failure. 

## Build Status
[![Build Status](https://snap-ci.com/danielsomerfield/gradle-cve-dependency-check/branch/master/build_image)](https://snap-ci.com/danielsomerfield/gradle-cve-dependency-check/branch/master)


## Known Issues
- Failed to deploy at Central repo:
Invalid POM: /com/danielsomerfield/dependencycheck/gradle-cve-dependency-check/0.1.0-33/gradle-cve-dependency-check-0.1.0-33.pom: 
Invalid version for Dependency {groupId=junit, artifactId=junit, version=4.+, type=jar} -
 uses invalid dynamic version syntax. Replace with a fixed version or standard mathematical notation e.g., 
 [1.5,) for version 1.5 and higher. Invalid version for Dependency {groupId=org.owasp, artifactId=dependency-check-core, 
 version=1.2.+, type=jar} - uses invalid dynamic version syntax. Replace with a fixed version or standard mathematical 
 notation e.g., [1.5,) for version 1.5 and higher.
- Bug: Upload archives step is rebuilding the entire project because somehow the gradle history or archives are getting blown away
- Bug: "Last mile" in pipeline to maven repo - deploy to sonatype failing
    
## RoadMap
- Publishing
    
- Testing
    - Better mocking strategy that doesn't kick up actual DependencyCheck system
    - More comprehensive unit tests
    - Perf test automation
    - Add stub server for CVE database so E2E tests don't fail when CVE db is down
- Reporting
    - Not yet implemented
- Architecture
    - Add seam between gradle plugin and DependencyCheck so it can be replaced with another source
- Add configuration for
    - build failure threshold 
    - CVE data sources
    - subproject aggragation strategy
    - autoupdate enable/disable
    - reporting
        - output directory
        - output format
    - CVE Suppression
    - Configurations to run against
- Performance testing and enhancements (e.g. better CVE data caching)

## More information
Inspiration for this project comes from the Maven plugin which is part of the OWASP Dependency Check project. More information on that project
is available on [github](https://github.com/jeremylong/DependencyCheck) and the [OWASP website](https://www.owasp.org/index.php/OWASP_Dependency_Check).

## Thank yous
- [OWASP](https://www.owasp.org) for fighting the good fight.
- [Jeremy Long](https://www.owasp.org/index.php/Jeremy_Long) for building the original dependency check.
- [ThoughtWorks' Snap CI](https://www.snap-ci.com/) for providing free continuous integration for open source projects!